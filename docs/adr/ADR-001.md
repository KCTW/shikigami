# ADR-001：Backlog Bridge 跨 Skill 編排模式

**狀態**：Accepted
**日期**：2026-02-28
**決策者**：Architect
**挑戰者**：QA Engineer

---

## 背景

`issue-management` Skill 的 Backlog Bridge 功能需要將 GitHub Issue 轉換為 Shikigami 格式的 User Story，包含 RICE 評分。RICE 評分邏輯目前由 `backlog-management` Skill 擁有。需要決定兩個 Skill 之間的協作模式。

## 決策問題

`issue-management` 在執行 Backlog Bridge 時，如何與 `backlog-management` 協作？

## 選項分析

### 選項 A：自包含模式

`issue-management` 內部完成全部步驟，包含 RICE 評分。

- 優點：實作簡單，無 Skill 間依賴
- 缺點：重複 RICE 評分邏輯，數字孤立，破壞 Backlog 一致性
- 風險：兩套評分標準導致 Backlog 排序不可比較

### 選項 B：委派模式（採用）

`issue-management` 擷取資料並生成 User Story 草稿（無 RICE 分數），然後觸發 `backlog-management` 的 PO subagent 完成 RICE 評分與正式寫入。

- 優點：RICE 邏輯集中於 backlog-management，Backlog 一致性高，全自動不中斷
- 缺點：Skill 間產生呼叫依賴
- 風險：流程略複雜，但可控

### 選項 C：草稿移交模式

`issue-management` 產出半成品草稿（無 RICE 分數），使用者需自行執行 `backlog-management` 完成評分。

- 優點：邊界最清晰
- 缺點：分兩步操作，違反自治原則，使用者體驗割裂

## 決策

**採用選項 B（委派模式）**。

理由：
1. RICE 評分邏輯集中在 `backlog-management`，避免重複，確保 Backlog 排序一致性
2. 全自動流程，符合專案等級自治策略（low/medium 等級不需人工介入）
3. Skill 間依賴可控 — `issue-management` 只需在 Backlog Bridge 子流程最後觸發 `backlog-management`

## 實作方式

```
issue-management (Backlog Bridge)：
  1. gh issue view → 讀取 issue 內容
  2. 生成 User Story 草稿（標題、User Story 陳述、AC）
  3. 追加草稿至 docs/prd/PRODUCT_BACKLOG.md（標記為「待評分」）
  4. invoke shikigami:backlog-management → PO subagent 執行 RICE 評分
  5. gh issue comment → 通知已轉入 Backlog（依專案等級處理）
  6. gh issue edit --add-label in-backlog
```

## Decision Challenge（QA Engineer）

**挑戰**：選項 A（自包含）的最強論述 — 避免 Skill 間耦合，每個 Skill 獨立完整，降低維護負擔。如果 `backlog-management` 的 RICE 邏輯變更，不會連帶影響 `issue-management` 的 Backlog Bridge 行為。

**反駁**：RICE 評分的核心價值在於**可比較性** — 所有 Stories 必須用同一套標準評分才有排序意義。若兩個 Skill 各自評分，Backlog 中會出現兩種尺度的 RICE 數字，反而增加 PO 的認知負擔。耦合的代價遠低於 Backlog 不一致的代價。

**結論**：同意選項 B。
